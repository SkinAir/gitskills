# 分支基础

## 创建分支

```
git checkout -b dev
创建分支dev并且切换到dev分支
```

以上-b命令可拆分

```
git branch dev		//创建dev分支
git checkout dev		//切换分支
```



## 查看当前分支

```
git branch
* dev
  master
```

会显示所有分支，当前分支加星号



在非主分支提交文件 不影响主分支，如果要合并需要合并分支

将dev分支的工作成功合并到master分支上

## 合并分支

```d
git merge dev
```

git merge用于合并制定分值到当前分支



删除分支

```
git branch -d dev
```

查看分支git branch只剩下master了



## 切换分支

在原先

```
git checkout <branch>
```

用于切换分支

but

```
git checkout -- filr 
```

用去撤销文件修改

所以 为了规范 定义switch，新的命令来切换分支

```
git switch -c dev
```

创建并切换分支

也是由两个命令组合的

```
git branch dev
git Switch dev
```



## 解决冲突

如果创建了分支

分支对文件修改、提交。



master主分支也修改、提交。

二者内容不同

合并会出现文件冲突

可以使用git status 查看冲突

也可以直接查看文件内容

```
Git is a distributed version control system.
Git is free software distributed under the GPL.
Git has a mutable index called stage.
Git tracks changes of files.
<<<<<<< HEAD
Creating a new branch is quick & simple.
=======
Creating a new branch is quick AND simple.
>>>>>>> feature1
```

Git用`<<<<<<<`，`=======`，`>>>>>>>`标记出不同分支的内容

修改相同 然后重新提交

使用以下命令查看分支合并情况

```
git log --graph --pretty=oneline --abbrev-commit
```

最后删除多余分支

git branch -d 分支



# 分支管理

正常合并分支 并push到远程仓库 ，git会用Fast fowrard快速合并

在这种模式下，删除分支，会丢掉分支信息

如果用--no-ff就会生成新的commit

```
git merge --no-ff -m "merge with no-ff" dev
```

此种合并并未删除而是生成了新的commit

可以看出了曾今做过合并



## bug分支

正在工作区做任务，修复bug，可以将工作区未保存的工作进行临时储藏

```
git stash
Saved working directory and index state WIP on dev: f52c633 add merge
```

再用git status查看 就非常干净

然后去相对于的分支创建临时分支修改bug，合并删除临时分支

修复完成后 需要找回工作区任务（临时储藏的）

使用命令查看

```
git stash list
```

恢复方法

一是使用`git stash apply`恢复，但是恢复后，stash中内容并不删除

还需要使用git stash drop来删除

另一种方式是使用`git stash pop`恢复同时将stash内容删除

再次使用`git stash list`就看不到任何内容
the and ...
